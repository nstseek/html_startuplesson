(window["webpackJsonppragma-challenge"]=window["webpackJsonppragma-challenge"]||[]).push([[0],{16:function(e,t,a){e.exports=a(30)},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var r,n,o=a(0),s=a.n(o),i=a(13),l=a.n(i),m=a(8),c=a.n(m),p=a(14),u=a(15),h=a(2),d=a(4),g=a(6),f=a(5),v=a(7),b=a(9),x=a(10);a(27),a(28);!function(e){e[e.OK=0]="OK",e[e["Too hot"]=1]="Too hot",e[e["Too cold"]=2]="Too cold"}(r||(r={})),function(e){e.green="#00d162",e.blue="#0000ff",e.red="#ff005e"}(n||(n={}));var O,w,E=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).filler=void 0,a.status=void 0,a.percentage=void 0,a.tempThreshold=void 0,a.statusColor=void 0,a.boxShadow=void 0,a.evaluateFillerLength=function(){var e=(a.props.temperature-a.props.tempRange.min)/(a.props.tempRange.max-a.props.tempRange.min)*100;if(a.percentage=e,a.props.temperature>a.props.tempRange.max?(a.status=r["Too hot"],a.boxShadow="0px 0px 15px 1px ".concat(n.red)):a.props.temperature<a.props.tempRange.min?(a.status=r["Too cold"],a.boxShadow="0px 0px 15px 1px ".concat(n.blue)):(a.status=r.OK,a.boxShadow="0px 0px 15px 1px ".concat(n.green)),a.props.temperature>=a.tempThreshold.max)a.filler=0;else if(a.props.temperature<=a.tempThreshold.min)a.filler=99,a.status=r["Too cold"];else{var t=a.tempThreshold.max-a.tempThreshold.min,o=(a.props.temperature-a.tempThreshold.min)/t*100;a.filler=100-o}switch(a.status){case r.OK:a.statusColor=n.green;break;case r["Too cold"]:a.statusColor=n.blue;break;case r["Too hot"]:a.statusColor=n.red;break;default:a.statusColor=n.green}},a.boxShadow="0px 0px 15px 1px ".concat(n.green),a.filler=50,a.percentage=100-a.filler,a.status=r.OK,a.statusColor=n.green,a.tempThreshold={max:a.props.tempRange.max+(a.props.tempRange.max-a.props.tempRange.min),min:a.props.tempRange.min-(a.props.tempRange.max-a.props.tempRange.min)},a.evaluateFillerLength(),a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.evaluateFillerLength(),s.a.createElement("div",{className:"card-container",style:{boxShadow:this.boxShadow}},s.a.createElement("div",{className:"card-header"},s.a.createElement("span",null,this.props.title)),s.a.createElement("div",{className:"gold-separator"}),s.a.createElement("div",{className:"card-data"},s.a.createElement("div",{className:"card-temperature"},s.a.createElement("div",{className:"temperature-title"},s.a.createElement("span",null,"Status: "),s.a.createElement("div",null,s.a.createElement("span",null,r[this.status]),s.a.createElement("div",{className:"status-circle",style:{backgroundColor:this.statusColor}}))),s.a.createElement("div",{className:"temperature-title"},s.a.createElement("span",null,"Temperature: "),s.a.createElement("span",null,this.props.temperature.toFixed(3),"\xb0C (",this.percentage.toFixed(1),"%)")),s.a.createElement("div",{className:"temperature-bar"},s.a.createElement("div",{className:"temperature-filler",style:{width:"".concat(this.filler.toFixed(0),"%")}})))))}}]),t}(s.a.Component);!function(e){e[e.OK=0]="OK",e[e.Cold=1]="Cold",e[e.Hot=2]="Hot"}(O||(O={})),function(e){e.IPA="ipa",e.Lager="lager",e["Pale Ale"]="paleAle",e.Pilsner="pilsner",e.Stout="stout",e["Wheat beer"]="wheatBeer"}(w||(w={}));var j={ipa:{max:6,min:5},lager:{max:7,min:4},paleAle:{max:6,min:4},pilsner:{max:6,min:4},stout:{max:8,min:6},wheatBeer:{max:5,min:3}},T={ipa:O.OK,lager:O.OK,paleAle:O.OK,pilsner:O.OK,stout:O.OK,wheatBeer:O.OK},k=function e(){var t=this;Object(h.a)(this,e),this.signal=1,this.temps=void 0,this.generateValue=function(e){var a=(j[e].max-j[e].min)/2+j[e].min,r=t.temps[e]-a;Math.abs(r)>1.5&&(T[e]=r<0?O.Cold:O.Hot),T[e]!==O.OK?t.recoverValue(e):t.generateNormalValue(e)},this.infiniteLoop=function(){return Object.keys(t.temps).forEach((function(e){t.generateValue(e)})),Object.assign({},t.temps)},this.generateNormalValue=function(e){var a=Math.random()%.6;t.signal=1===t.signal?-1:1,a*=t.signal,t.temps[e]=t.temps[e]+a},this.recoverValue=function(e){var a=Math.random()%.6;a*=T[e]===O.Cold?1:-1,t.temps[e]=t.temps[e]+a;var r=(j[e].max-j[e].min)/2+j[e].min,n=t.temps[e]-r;Math.abs(n)<.5&&(T[e]=O.OK)},this.delay=function(){return new Promise((function(e){setTimeout((function(){return e()}),1e3)}))},this.temps={ipa:100*Math.random()%10,lager:100*Math.random()%10,paleAle:100*Math.random()%10,pilsner:100*Math.random()%10,stout:100*Math.random()%10,wheatBeer:100*Math.random()%10}};function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var R="http://localhost:7000",C=1e3,K=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).mocker=void 0,a.updateMockTemps=function(){var e=a.mocker.infiniteLoop();a.setState((function(t){return N({},t,{temps:e})})),setTimeout(a.updateMockTemps,1e3)},a.fetchTemps=Object(p.a)(c.a.mark((function e(){var t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(R,"/temps"));case 2:return t=e.sent,e.next=5,t.json();case 5:r=e.sent,a.setState((function(e){return N({},e,{temps:r})})),setTimeout(a.fetchTemps,C);case 8:case"end":return e.stop()}}),e)}))),a.state={temps:{ipa:5,lager:5,paleAle:5,pilsner:5,stout:5,wheatBeer:5}},a.mocker=new k,a.updateMockTemps(),a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"app"},s.a.createElement("span",{className:"watermark"},"Todos os valores aqui s\xe3o gerados usando Math.random(), o back e o front end desde projeto est\xe3o disponiveis"," ",s.a.createElement("a",{href:"https://github.com/nstseek/pragma-challenge/tree/master",target:"_blank",rel:"noopener noreferrer"},"aqui")),s.a.createElement("div",{className:"header-container"},s.a.createElement("div",{className:"icon-container"},s.a.createElement(x.a,{icon:b.b,className:"cloud"}),s.a.createElement(x.a,{icon:b.a,className:"beer"})),s.a.createElement("span",{className:"title"},"Beer temperature control system")),s.a.createElement("div",{className:"cards-container"},s.a.createElement(E,{title:"IPA",temperature:this.state.temps.ipa,tempRange:{max:6,min:5}}),s.a.createElement(E,{title:"Lager",temperature:this.state.temps.lager,tempRange:{max:7,min:4}}),s.a.createElement(E,{title:"Pale Ale",temperature:this.state.temps.paleAle,tempRange:{max:6,min:4}}),s.a.createElement(E,{title:"Pilsner",temperature:this.state.temps.pilsner,tempRange:{max:6,min:4}}),s.a.createElement(E,{title:"Stout",temperature:this.state.temps.stout,tempRange:{max:8,min:6}}),s.a.createElement(E,{title:"Wheat beer",temperature:this.state.temps.wheatBeer,tempRange:{max:5,min:3}})))}}]),t}(s.a.Component);a(29),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[16,1,2]]]);
//# sourceMappingURL=main.dede0e43.chunk.js.map